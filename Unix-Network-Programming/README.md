# <Unix网络编程>

#### 写在前面
> 本书起始于读书任务，目的是强化网络编程基础，故本次使用选择阅读，有些章节工作相关性较低，选择跳过

## 第一章 简介
- 

## 第十五章 Unix域协议
> 1. 概述
> 2. Unix域套接字地址结构
> 3. socketpair函数
> 4. 套接字函数
> 5. Unix域字节流客户/服务器程序
> 6. Unix域数据报客户/服务器程序
> 7. 描述符传递
> 8. 接收发送者的凭证
> 9. 小结

- 定义
  - 不是一个实际的协议族，而是一种单个主机的通信方法。
  - 第二章介绍的进程间通信(IPC Inter-Progress Communication) ,实际上就是单个主机上的客户/服务器通信,Unix域协议也可以认为是IPC方法之一。本地IPC
- 提供两类套接字
  - 字节流套接字(类似TCP)
  - 数据报套接字(类似UDP)
- 为什么使用Unix域套接字
  1. 快 比TCP套接字快一倍
  2. 可用于同一主机不同进程间的传递描述符 (后面有例子)
  3. Unix域套接字把客户的凭证(用户id和组id)提供给服务器,从而可以提供额外的安全检查 (后面有例子)
- 协议地址
  - 普通文件系统中的路径名
  - ipv4协议地址由32位的地址和16位的端口组成
  - ipv6协议地址由128位的地址和16位端口号组成
  - 路径名不是普通的Unix文件,除非与Unix套接字关联,否则无法读写

- bind()
  - 

- socketpair //创建两个随后连接起来的套接字
  - socketpair(family int, type int, protocol int, sockfd [2]int)
  - 指定type为SOCK_STREAM 得到两个流管道,与调用pipe创建的普通unix管道类型,区别是全双工的

- 套接字函数
  1. 由bind创建的路径名默认访问权限是0777,并按照当前umask值修正
  2. Unix域套接字关联的路径名应该是一个绝对路径名。否则客户就必须跟服务器在同一个工作目录中。
  3. connect调用中指定的路径名必须是一个当前绑定在某个***打开***的Unix域套接字上